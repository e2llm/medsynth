"""ar_SA facility definitions and field-name mappings."""

FACILITIES = [
    {
        "id": "riyadh",
        "name": "مدينة الرياض الطبية",
        "doc_types": ["discharge", "lab", "referral"],
        "source": {
            "discharge": "digital",
            "lab": "digital",
            "referral": "digital",
        },
        "date_format": "%Y-%m-%d",
        "id_type": "string",
        "age_format": "integer",
    },
    {
        "id": "malaki",
        "name": "المستشفى العسكري الملكي",
        "doc_types": ["discharge", "visit", "referral"],
        "source": {
            "discharge": "ocr",
            "visit": "digital",
            "referral": "ocr",
        },
        "date_format": "%d/%m/%Y",
        "id_type": "string",
        "age_format": "integer",
    },
    {
        "id": "hayat",
        "name": "مختبرات الحياة الطبية",
        "doc_types": ["lab"],
        "source": {
            "lab": "digital",
        },
        "date_format": "%d.%m.%y",
        "id_type": "string",
        "age_format": "integer",
    },
    {
        "id": "phc",
        "name": "مركز الرعاية الصحية الأولية",
        "doc_types": ["visit", "discharge", "referral"],
        "source": {
            "visit": "ocr",
            "discharge": "ocr",
            "referral": "ocr",
        },
        "date_format": "%Y-%m",
        "id_type": "int",
        "age_format": "range",
    },
]

FACILITY_BY_ID = {f["id"]: f for f in FACILITIES}

# Field-name mapping per facility (concept -> actual field name)
FIELD_NAMES = {
    "riyadh": {
        "patient_id":      "patient_id",
        "patient_name":    "patient_name",
        "age":             "patient_age",
        "gender":          "gender",
        "date":            "document_date",
        "department":      "department",
        "diagnosis":       "primary_diagnosis",
        "icd10":           "icd10_code",
        "conditions":      "conditions",
        "medications":     "medications",
        "smoking":         "smoking_status",
        "blood_type":      "blood_type",
        "occupation":      "occupation",
        "facility":        "facility_name",
        "free_text":       "clinical_notes",
        "address":         "patient_address",
        "lab_test_name":   "test_name",
        "lab_value":       "test_value",
        "lab_unit":        "test_unit",
        "lab_reference":   "reference_range",
        "lab_flag":        "result_flag",
        "referral_to":     "referred_to_department",
        "referral_reason": "referral_reason",
        "urgency":         "urgency_level",
    },
    "malaki": {
        "patient_id":      "medical_record_number",
        "patient_name":    "اسم_المريض",
        "age":             "العمر",
        "gender":          "الجنس",
        "date":            "التاريخ",
        "department":      "القسم",
        "diagnosis":       "التشخيص",
        "icd10":           "رمز_التشخيص",
        "conditions":      "الأمراض_المزمنة",
        "medications":     "الأدوية",
        "smoking":         "التدخين",
        "blood_type":      "فصيلة_الدم",
        "occupation":      "المهنة",
        "facility":        "المنشأة",
        "free_text":       "الملاحظات_السريرية",
        "address":         "العنوان",
        "referral_to":     "الإحالة_إلى",
        "referral_reason": "سبب_الإحالة",
        "urgency":         "الأولوية",
    },
    "hayat": {
        "patient_id":      "patient_id",
        "patient_name":    "name",
        "age":             "age",
        "gender":          "sex",
        "date":            "collection_date",
        "facility":        "lab_name",
        "free_text":       "notes",
        "lab_test_name":   "test",
        "lab_value":       "result",
        "lab_unit":        "units",
        "lab_reference":   "ref_range",
        "lab_flag":        "flag",
        "smoking":         None,
        "blood_type":      None,
        "occupation":      None,
        "conditions":      None,
        "medications":     None,
        "address":         None,
    },
    "phc": {
        "patient_id":      "رقم_الهوية",
        "patient_name":    "الاسم",
        "age":             "العمر",
        "gender":          "الجنس",
        "date":            "التاريخ",
        "department":      "الوحدة",
        "diagnosis":       "التشخيص",
        "icd10":           "الرمز",
        "conditions":      "الأمراض",
        "medications":     "الأدوية",
        "smoking":         "تدخين",
        "blood_type":      None,
        "occupation":      None,
        "facility":        "المركز",
        "free_text":       "النص",
        "address":         "العنوان",
        "referral_to":     "إحالة_إلى",
        "referral_reason": "سبب_الإحالة",
        "urgency":         "الأولوية",
    },
}
