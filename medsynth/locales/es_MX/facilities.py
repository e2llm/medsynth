"""es_MX facility definitions and field-name mappings."""

FACILITIES = [
    {
        "id": "nacional",
        "name": "Hospital Nacional del Norte",
        "doc_types": ["discharge", "lab", "referral"],
        "source": {
            "discharge": "digital",
            "lab": "digital",
            "referral": "digital",
        },
        "date_format": "%Y-%m-%d",
        "id_type": "string",
        "age_format": "integer",
    },
    {
        "id": "federal",
        "name": "ClÃ­nica Federal del Centro",
        "doc_types": ["discharge", "visit", "referral"],
        "source": {
            "discharge": "ocr",
            "visit": "digital",
            "referral": "ocr",
        },
        "date_format": "%d/%m/%Y",
        "id_type": "string",
        "age_format": "integer",
    },
    {
        "id": "azteca",
        "name": "Laboratorios Azteca",
        "doc_types": ["lab"],
        "source": {
            "lab": "digital",
        },
        "date_format": "%d.%m.%y",
        "id_type": "string",
        "age_format": "integer",
    },
    {
        "id": "centro_salud",
        "name": "Centro de Salud",
        "doc_types": ["visit", "discharge", "referral"],
        "source": {
            "visit": "ocr",
            "discharge": "ocr",
            "referral": "ocr",
        },
        "date_format": "%d-%m-%Y",
        "id_type": "string",
        "age_format": "range",
    },
]

FACILITY_BY_ID = {f["id"]: f for f in FACILITIES}

# Field-name mapping per facility (concept -> actual field name)
FIELD_NAMES = {
    "nacional": {
        "patient_id":    "patient_id",
        "patient_name":  "patient_name",
        "age":           "patient_age",
        "gender":        "gender",
        "date":          "document_date",
        "department":    "department",
        "diagnosis":     "primary_diagnosis",
        "icd10":         "icd10_code",
        "conditions":    "conditions",
        "medications":   "medications",
        "smoking":       "smoking_status",
        "blood_type":    "blood_type",
        "occupation":    "occupation",
        "facility":      "facility_name",
        "free_text":     "clinical_notes",
        "address":       "patient_address",
        "lab_test_name": "test_name",
        "lab_value":     "test_value",
        "lab_unit":      "test_unit",
        "lab_reference": "reference_range",
        "lab_flag":      "result_flag",
        "referral_to":   "referred_to_department",
        "referral_reason": "referral_reason",
        "urgency":       "urgency_level",
    },
    "federal": {
        "patient_id":    "CURP",
        "patient_name":  "nombre_paciente",
        "age":           "edad",
        "gender":        "sexo",
        "date":          "fecha",
        "department":    "servicio",
        "diagnosis":     "diagnostico",
        "icd10":         "codigo_cie10",
        "conditions":    "padecimientos",
        "medications":   "medicamentos",
        "smoking":       "tabaquismo",
        "blood_type":    "tipo_sangre",
        "occupation":    "ocupacion",
        "facility":      "unidad",
        "free_text":     "notas_medicas",
        "address":       "domicilio",
        "referral_to":   "servicio_referencia",
        "referral_reason": "motivo_referencia",
        "urgency":       "prioridad",
    },
    "azteca": {
        "patient_id":    "patient_id",
        "patient_name":  "name",
        "age":           "age",
        "gender":        "sex",
        "date":          "collection_date",
        "facility":      "lab_name",
        "free_text":     "notes",
        "lab_test_name": "test",
        "lab_value":     "result",
        "lab_unit":      "units",
        "lab_reference": "ref_range",
        "lab_flag":      "flag",
        "smoking":       None,
        "blood_type":    None,
        "occupation":    None,
        "conditions":    None,
        "medications":   None,
        "address":       None,
    },
    "centro_salud": {
        "patient_id":    "curp",
        "patient_name":  "nombre",
        "age":           "rango_edad",
        "gender":        "sexo",
        "date":          "fecha",
        "department":    "area",
        "diagnosis":     "dx",
        "icd10":         "codigo",
        "conditions":    "antecedentes",
        "medications":   "tx",
        "smoking":       "fuma",
        "blood_type":    None,
        "occupation":    None,
        "facility":      "centro",
        "free_text":     "nota",
        "address":       "direccion",
        "referral_to":   "ref_area",
        "referral_reason": "ref_motivo",
        "urgency":       "prioridad",
    },
}
