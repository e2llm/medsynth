"""es_ES facility definitions and field-name mappings."""

FACILITIES = [
    {
        "id": "reina",
        "name": "Hospital Reina Ficticia",
        "doc_types": ["discharge", "lab", "referral"],
        "source": {
            "discharge": "digital",
            "lab": "digital",
            "referral": "digital",
        },
        "date_format": "%Y-%m-%d",
        "id_type": "string",
        "age_format": "integer",
    },
    {
        "id": "san_rafael",
        "name": "Hospital San Rafael",
        "doc_types": ["discharge", "visit", "referral"],
        "source": {
            "discharge": "ocr",
            "visit": "digital",
            "referral": "ocr",
        },
        "date_format": "%d/%m/%Y",
        "id_type": "string",
        "age_format": "integer",
    },
    {
        "id": "iberia",
        "name": "Laboratorios Iberia",
        "doc_types": ["lab"],
        "source": {
            "lab": "digital",
        },
        "date_format": "%d.%m.%y",
        "id_type": "string",
        "age_format": "integer",
    },
    {
        "id": "atencion",
        "name": "Centro de AtenciÃ³n Primaria",
        "doc_types": ["visit", "discharge", "referral"],
        "source": {
            "visit": "ocr",
            "discharge": "ocr",
            "referral": "ocr",
        },
        "date_format": "%d-%m-%Y",
        "id_type": "string",
        "age_format": "range",
    },
]

FACILITY_BY_ID = {f["id"]: f for f in FACILITIES}

# Field-name mapping per facility (concept -> actual field name)
FIELD_NAMES = {
    "reina": {
        "patient_id":    "patient_id",
        "patient_name":  "patient_name",
        "age":           "patient_age",
        "gender":        "gender",
        "date":          "document_date",
        "department":    "department",
        "diagnosis":     "primary_diagnosis",
        "icd10":         "icd10_code",
        "conditions":    "conditions",
        "medications":   "medications",
        "smoking":       "smoking_status",
        "blood_type":    "blood_type",
        "occupation":    "occupation",
        "facility":      "facility_name",
        "free_text":     "clinical_notes",
        "address":       "patient_address",
        "lab_test_name": "test_name",
        "lab_value":     "test_value",
        "lab_unit":      "test_unit",
        "lab_reference": "reference_range",
        "lab_flag":      "result_flag",
        "referral_to":   "referred_to_department",
        "referral_reason": "referral_reason",
        "urgency":       "urgency_level",
    },
    "san_rafael": {
        "patient_id":    "DNI",
        "patient_name":  "nombre_paciente",
        "age":           "edad",
        "gender":        "sexo",
        "date":          "fecha",
        "department":    "servicio",
        "diagnosis":     "diagnostico_principal",
        "icd10":         "codigo_cie10",
        "conditions":    "antecedentes",
        "medications":   "medicacion",
        "smoking":       "tabaquismo",
        "blood_type":    "grupo_sanguineo",
        "occupation":    "profesion",
        "facility":      "centro",
        "free_text":     "notas_clinicas",
        "address":       "direccion",
        "referral_to":   "derivacion_servicio",
        "referral_reason": "motivo_derivacion",
        "urgency":       "prioridad",
    },
    "iberia": {
        "patient_id":    "patient_id",
        "patient_name":  "name",
        "age":           "age",
        "gender":        "sex",
        "date":          "collection_date",
        "facility":      "lab_name",
        "free_text":     "notes",
        "lab_test_name": "test",
        "lab_value":     "result",
        "lab_unit":      "units",
        "lab_reference": "ref_range",
        "lab_flag":      "flag",
        "smoking":       None,
        "blood_type":    None,
        "occupation":    None,
        "conditions":    None,
        "medications":   None,
        "address":       None,
    },
    "atencion": {
        "patient_id":    "nss",
        "patient_name":  "nombre",
        "age":           "edad_rango",
        "gender":        "sexo",
        "date":          "fecha",
        "department":    "unidad",
        "diagnosis":     "diagnostico",
        "icd10":         "codigo",
        "conditions":    "patologias",
        "medications":   "farmacos",
        "smoking":       "fumador",
        "blood_type":    None,
        "occupation":    None,
        "facility":      "centro",
        "free_text":     "texto",
        "address":       "domicilio",
        "referral_to":   "derivacion",
        "referral_reason": "motivo",
        "urgency":       "urgencia",
    },
}
